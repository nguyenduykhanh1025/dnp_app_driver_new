<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" >
<head>
	<th:block th:include="include :: header('CRON JOB')" />
</head>
<body class="white-bg">
	<div class="wrapper wrapper-content animated fadeInRight ibox-content">
	
	<form class="form-horizontal m-t" id="jobLogForm" th:if="${name == 'jobLog'}">
	    <div class="form-group">
			<label class="col-sm-3 control-label">ID ：</label>
			<div class="form-control-static" th:text="${jobLog.jobLogId}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Tên tác vụ ：</label>
			<div class="form-control-static" th:text="${jobLog.jobName}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Nhóm tác vụ：</label>
			<div class="form-control-static" th:text="${@dict.getLabel('sys_job_group', jobLog.jobGroup)}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Gọi hàm：</label>
			<div class="form-control-static" th:text="${jobLog.invokeTarget}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Thông tin nhiệm vụ ：</label>
			<div class="form-control-static" th:text="${jobLog.jobMessage}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Trạng thái：</label>
			<div class="form-control-static" th:class="${jobLog.status == '0' ? 'label label-primary' : 'label label-danger'}" th:text="${jobLog.status == '0' ? 'Bình thường' : 'Thất bại'}">
			</div>
		</div>
		<div class="form-group" th:style="'display:' + ${jobLog.status == '0' ? 'none' : 'block'}">
			<label class="col-sm-3 control-label">Ngoại lệ ：</label>
			<div class="form-control-static" th:text="${jobLog.exceptionInfo}">
			</div>
		</div>
	</form>
	
	<form class="form-horizontal m-t" id="jobForm" th:if="${name == 'job'}">
	    <div class="form-group">
			<label class="col-sm-3 control-label">Mã tác vụ：</label>
			<div class="form-control-static" th:text="${job.jobId}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Tên tác vụ：</label>
			<div class="form-control-static" th:text="${job.jobName}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Nhóm tác vụ ：</label>
			<div class="form-control-static" th:text="${job.jobGroup}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Gọi hàm：</label>
			<div class="form-control-static" th:text="${job.invokeTarget}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Thời gian chạy ：</label>
			<div class="form-control-static" th:text="${job.cronExpression}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Thời gian chạy tiếp theo：</label>
			<div class="form-control-static" th:text="${#dates.format(job.nextValidTime, 'yyyy-MM-dd HH:mm:ss')}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Cách thực thi：</label>
			<div class="form-control-static" th:if="${job.misfirePolicy == '0'}">Mặc định</div>
			<div class="form-control-static" th:if="${job.misfirePolicy == '1'}">Ngay lập tức </div>
			<div class="form-control-static" th:if="${job.misfirePolicy == '2'}">Một lần</div>
			<div class="form-control-static" th:if="${job.misfirePolicy == '3'}">Không thực hiện</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Cho phép đồng thời：</label>
			<div class="form-control-static" th:class="${job.concurrent == '0' ? 'label label-primary' : 'label label-danger'}" th:text="${job.concurrent == '0' ? 'Cho phép' : 'Không cho phép (chạy tuần tự)'}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Tình trạng ：</label>
			<div class="form-control-static" th:class="${job.status == '0' ? 'label label-primary' : 'label label-danger'}" th:text="${job.status == '0' ? 'Bình thường' : 'Hết giờ'}">
			</div>
		</div>
	</form>
	
    </div>
</body>
</html>